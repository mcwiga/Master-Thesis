\setcounter{chapter}{-1}
\chapter{Preliminaries}

\section{Geometric Structures on Manifolds}
\textbf{TODO: Basic definitions of (G,X)-structures}
\begin{prop}
    Let $M$ be a simply connected $(G,X)$-manifold. Then there exists a $(G,X)$-map
    $$
        dev: M \mapsto X
    $$
\end{prop}
\begin{proof}
    We pick a base point $x_0 \in M$ and a chart $(U_0, \varphi_0)$ around $x_0$. Now for any $x \in M$ we define the map $dev$ as follows. We pick a curve on $M$ $x(t)$ satisfying $x(0)=x_0$ and $x(1)=x$. As the image of our curve is compact, we can cover the it by finitely many coordinate charts $U_i$ with $i\in \{0, \dots,n\}$ such that $x(t) \in U_i$ for $t\in(a_i, b_i)$ with
    $$a_0<0<a_1<b_0<a_2<b_1<a_3 \dots <a_n<b_{n-1}<1<b_n$$

    \begin{figure}[H]
        \centering
        \incfig[0.7]{DevMap}
        \caption{Developing along a curve}
    \end{figure}

    Now we consider where these charts overlap. Since our manifold is equipped with
    a $(G,X)$-structure our transition maps differ by an element of $G$. Let $g_i =
        \varphi_{i-1}\circ\varphi^{-1}_i \in G$ be the transition map from $U_i$ and
    $U_{i-1}$. We then define $$ dev(x) = g_1g_2\dots g_n \varphi_n(x) $$ We must
    show that this is a well-defined map. We first show that this map does not
    change if we refine the cover. Suppose we insert a chart $(V, \phi)$ between
    $U_i$ and $U_{i-1}$. Let
    \begin{center}
        $\varphi_{i-1} = h_{i-1}\circ\phi$ on $V \cap U_{i-1}$ and \\
        $\phi = h_i\varphi_{i}$ on $V \cap U_{i-1}$.
    \end{center}
    Then on $V \cap U_i \cap U_{i-1}$ we have that $\varphi_{i-1} = h_{i-1}\circ h_i \circ \varphi_{i}$. This gives us that $g_i = \varphi_{i-1}\circ \varphi^{-1}_i = h_{i-1} \circ h_i$ as we require that our transition maps satisfy a unique extension property.

    Now when we develop along our curve with respect to this new covering, we
    obtain that:

    \begin{center}
        $dev(x) = g_1 \dots g_{i-1}h_{i-1}h_{i}g_{i+1}\dots g_n\varphi_n(x) = g_1 \dots g_{i-1}g_ig_{i+1}\dots g_n\varphi_n(x)$
    \end{center}

    This defines $dev$ along $x(t)$. We now need to show that it does not depend on
    our choice of curve. As $M$ is simply connected, all curves with the same start
    point and end point will be homotopic. Indeed, by compactness we can split our
    homotopy into smaller homotopies such that we can break up our curve into
    regions
    \begin{center}
        $a_1 =0 < a_2 < \dots < a_n=1$
    \end{center}
    such that during each small homotopy the segment $x((a_i, a_{i+1}))$ lies entirely inside a coordinate patch. It then follows that $dev$ is independent of our choice of paths completing the proof.

\end{proof}

This shows that we have a well defined development map on any simply connected
$(G,X)$-manifold. However, this map depended on the choice of base point and
initial chart. We immediately get the following corrolary from this fact.

\begin{corollary}
    Let $M$ be a $(G,X)$-manifold and let $\tilde{M}$ be its universla cover. Then
    there exists a pair $(dev, hol)$ satisfying
    \begin{center}
        $dev : \tilde{M} \mapsto X$\\
        $hol: \pi_1(M) \mapsto G$
    \end{center}
    where $hol(\gamma)$ is the element $g_1\dots g_n$ of $G$ obtained from
    developing around a loop $\gamma \in M$.
\end{corollary}

The developing pair satisfy the following equivariance condition.
\begin{lemma}
    Let $\gamma, \alpha \in \pi_1(M)$ be loops in $M$. Then

    \begin{center}
        $dev(\gamma \star \alpha) = hol(\gamma)dev(\alpha)$
    \end{center}
    \label{lemma:dev-equivariance}
\end{lemma}

\begin{proof}
    Let $\{(U_i, \varphi_i)\}$ be a cover for $\alpha$ and $\{(V_i, \phi_i)\}$ be
    cover for $\gamma$. Denote the transition maps on $U_i \cap U_{i+1}$ by $h_i$
    and the transition maps on $V_i \cap V_{i+1}$ by $g_i$. Then by definition
    \begin{center}
        $dev(\gamma \star \alpha) = g_1 \dots g_n h_1 \dots h_k \varphi_k(\alpha(1))$\\
        $= hol(\gamma)dev(\alpha)$
    \end{center}
\end{proof}

The role of the development pair is to "globalize" the coordinate chart of $M$.
Indeed the following proposition makes this statment more clear.

\begin{prop}
    Let $M$ be a $(G,X)$-manifold with development pair $(dev, hol)$. Denote
    by $\Gamma$, the image of $\pi_1(M)$ under the holonomy map. Then there
    exists a $(G,X)$-atlas such that the transition maps lie in $\Gamma$
\end{prop}

\begin{proof}
    We pick $m\in M$ and fix a lift $\tilde{m}\in \tilde{M}$ of $m$. Then, as
    $dev$ is a local diffeomorphism, there is an open set $\tilde{U}$ of $\tilde{m}$
    such that $dev$ is a local diffeomorphism onto $X$.

    We pick $V \subset M$ an open neighborhood of $m$ and take its inverse under
    the covering map $p^{-1}(V)$ which we may assume $dev$ is a diffeomorphism on
    by intersetcting with $\tilde{U}$.

    Now, define coordinate charts on $M$ by $(V_{\alpha}, \psi_{\alpha} = dev \circ
        p^{-1}_{\alpha})$ at a point $m \in M$ where by $p^{-1}_{\alpha}$ we mean we
    have fixed a component of the preimage $p^{-1}$ restricted to $V_{\alpha}$. Now
    suppose that $V_i \cap V_j \neq \emptyset$ and let $\tilde{U}_i =
        p_i^{-1}(V_i)$ and $\tilde{U}_j = p_j^{-1}(V_j)$. Then the preimage of their
    intersection will differ by a deck transformation $\gamma \in \pi_1(M)$.
    Therefore, on the intersection $V_i \cap V_j$
    \begin{center}
        $dev \circ p_i^{-1} = dev \circ \gamma \circ p_j^{-1}$\\
        $\implies p^{-1}_i \circ p_j = \gamma$
    \end{center}

    Now our by definition of our transition maps
    \begin{center}
        $\psi_i \circ \psi_j^{-1} = dev \circ p_i{-1} \circ p_j \circ dev^{-1}$\\
        $= dev \circ \gamma \circ dev^{-1} = hol(\gamma)dev\circ dev^{-1} = hol(\gamma) \in \Gamma$
    \end{center}

    and so we have thus given our coordinate charts on $M$ in terms of the
    development pair.
\end{proof}

This shows that once we have fixed a development pair, our $(G,X)$-structure is
entirely determined by this. Conversely, the following lemma shows us that Once
we have fixed our $(G,X)$-structure, the development pair is determined up to
certain factors/conjugations.

\begin{lemma}
    Let $M$ be a $(G,X)$-manifold with development pair $(dev, hol)$. Suppose that $(dev', hol')$ is
    another development pair for $M$. Then $dev' = g\circ dev$ and $hol' = g\circ hol \circ g^{-1}$
    for some $g \in G$. \label{lemma:equivalent-dev-pair}
\end{lemma}
\begin{proof}
    Our development pair was determined once we picked a base point and a chart $(U, \phi)$. Suppose that
    we pick a different base point and chart $(V, \varphi)$. Now we consider how we define $dev(x)$ for $x \in \tilde{M}$.
    We choose a curve $\gamma$ connecting $x_0$ and $x$ and choose a cover $U_i$ of $\gamma$ and develop around it.
    Now, with respect to our new initial chart, $V \cup \{U_i\}$ is an open cover of $\gamma$. If we develop starting with this new chart,
    we can first glue all the $U_i$ to $U_1$ as before and then glue this chain to $V$ with an element of $G$ by gluing
    $U_1$ to $V$ on their overlap. Hence the entire development will have o=just changed by that element of $G$.

    If, on the other hand, both the base point and chart have changed, we can pick
    a curve $\gamma'$ starting at our new base point $x_0'$ and ending at our old
    basepoint $x_0$. Developing first along this curve and then along our old curve
    $\gamma$ we pick up some element of $G$ from developing $\gamma'$ whilst
    developing along $\gamma$ gives the same as before. As we already showed this
    map is homotopy invariant this gives that $dev'(x) = g\circ dev(x)$ for some $g
        \in G$.

    Now to show that $hol' = g\circ hol \circ g^{-1}$ we consider
    \begin{center}
        $dev'(\gamma \star \alpha) = g \circ dev(\gamma \star \alpha)$\\
        $= g\circ hol(\gamma) \circ dev(\alpha)$\\
        $= (g\circ hol(\gamma)\circ g^{-1})(g\circ dev(\alpha))$\\
        $= (g \circ hol(\gamma)\circ g^{-1})dev'(\alpha)$
    \end{center}
    and as the development pair satisfied the equivariance property it follows that
    $hol' = g\circ hol \circ g^{-1}$.
\end{proof}

This shows that once we have fixed a development pair, any other development
pair can is related by $(dev', hol') = (g\circ dev, g\circ hol \circ g^{-1})$.
It is therefore, important to note that if we want to classify
$(G,X)$-structures on a manifold $M$ by classifying the possible development
pairs, it is important to consider them up to this relation.

\subsection{Completeness}
An important property the developing map can have is that of
\textbf{completeness}.
\begin{definition}
    A $(G,X)$-manifold $M$ is said to be complete if its developing map is a diffeomorphism
    onto $X$.
\end{definition}
In the case that $X$ is simply connected e.g. $X= \mathbb{R}^n$, we have that $M$ is diffeomorphic
to $X/\Gamma$ where $\Gamma = hol(\pi_1(M))$.

In the case that $M$ is a Riemannian manifold, this notion of completeness is
equivalent to completeness of the Levi-Civita connection of $M$.

\textbf{TODO :
    Examples of complete/ incomplete manifolds e.g. Hopf}
\section{Representation Theory and Affine Manifolds}
We now turn our attention to affine manifolds before specializing to the
integral affine case. An affine manifold is a $(G,X)$-manifold where $X =
    \mathbb{R}^n$ and $G = Aff(\mathbb{R}^n)$ An important tool in classifying
affine structures is the representation theory of groups. Often, by studying
properties of the holonomy group of an affine manifold $M$, we are able to
obtain information about the affine structure of $M$. Of fundamental importance
is the case where the holonomy group is nilpotent which we will shortly see. We
will use these tools to determine conditions for which the affine structure is
complete.

\begin{definition}
    An affine transformation of $\mathbb{R}^n$ is a map
    \begin{center}
        $A: \mathbb{R}^n \mapsto \mathbb{R}^n$
    \end{center}
    such that $A(x) = Gx + B$ where $G \in GL(\mathbb{R}^n)$ and $B \in\mathbb{R}^n$
\end{definition}

The group $Aff(\mathbb{R}^n)$ is the group of affine transformations of
$\mathbb{R}^n$ and is equal to $Aff(\mathbb{R}^n) = \mathbb{R}^n \rtimes
    GL(\mathbb{R}^n )$

\begin{definition}
    An affine representation of a group $G$ is a group homomorphism
    \begin{center}
        $\alpha: G \mapsto Aff(\mathbb{R}^n)$
    \end{center}
\end{definition}

We have that an affine representation splits into a linear part and a
translation, e.g. $\alpha(g) = \lambda(g) + \mu(g)$. The linear part makes
$\mathbb{R}^n$ into a $G$-module with the obvious action which we will denote
$E$.

We will be interested in some results from group cohomology. This leads us to
the following definitions.

\begin{definition}[Crossed Homomorphism]
    A crossed homomorphism for $\lambda$, is a group homomorphism
    \begin{center}
        $\mu: G \mapsto E$
    \end{center}
    that satisfies $\mu(gh) = \mu(g) + \lambda(g)\mu(h)$
\end{definition}

\begin{prop}
    Let $\alpha(g) = \lambda(g) + \mu(g)$ be an affine representation on $E$ of a group G. Then
    $\mu$ is a crossed homomorphism for $\lambda$
\end{prop}
\begin{proof}
    Let $g,h \in G$ and $\alpha = \mu + \lambda$ be an affine representation. Then
    \begin{center}
        $\alpha(gh) = (\mu(gh), \lambda(gh))$\\
        $=\alpha(g)\cdot \alpha(h)= (\mu(g), \lambda(g)) \cdot(\mu(h), \lambda(h)) $\\
        $= (\mu(g) + \lambda(g)\mu(h), \lambda(g)\lambda(h))$\\
        $\implies \mu(gh) = \mu(g) + \lambda(g)\mu(h)$
    \end{center}
    and so $\mu$ is a crossed homomorphism for $\lambda$.
\end{proof}

\begin{definition}[Principle Crossed Homomorphism]
    A \textit{principle crossed homomorphism} for $\lambda$ is a crossed homomorphism
    of the form $\mu(g) = y- \lambda(g)y$ for some $y \in E$.
\end{definition}

\begin{prop}
    Let $y\in E$. Then y is a \textit{ary point} of the action of $\alpha$ if
    and only if $\mu(g) = y - \lambda(g)y$ for all $g \in G$.
    \label{prop:ary-point}
\end{prop}

\begin{proof}
    Suppose $y \in E$ is a ary point of $\alpha$. Then $\alpha(g)y = y$ for every $g \in G$.
    This gives that
    \begin{center}
        $(\lambda(g) + \mu(g))y = \lambda(g)y + \mu(g) = y$\\
        $ \implies \mu(g) = y - \lambda(g)y$
    \end{center}

    Conversely, suppose that $\mu(g) = y - \lambda(g)y$. Then $y = \mu(g) +
        \lambda(g)y = \alpha(g)y$ \label{lemma:ary}
\end{proof}
\begin{remark}
    If $\mu$ is a principle crossed homomorphism we will often write $\mu = D_y$
\end{remark}

\begin{remark}
    An affine representation with a fixed point is called \textit{radiant}.
\end{remark}

\textbf{TODO: Develop some of the basics of group cohomology}

\begin{lemma}
    The cohomology group $H^1(G, E)$ is isomorphic to
    \begin{center}
        $H^1(G,E) \cong \frac{\{\text{crossed homomorphisms for } \lambda\}}{\{\text{principle crossed homomorphisms for } \lambda\}}$
    \end{center}
    \label{lemma:crossed-coho}
\end{lemma}

\begin{proof}
    \textbf{TODO : Add proof e.g. construct resolution or take this as given?}
\end{proof}

\begin{definition}[Radiance Obstruction]
    Let $\alpha$ be an affine representation. The radiance obstruction of $\alpha$ is the cohomology
    class
    \begin{center}
        $c_{\alpha} = [\mu] \in H^1(G, E)$
    \end{center}
    where $\mu$ is the translational part of $\alpha$.
\end{definition}

\begin{lemma}
    The radiance obstruction vanishes, e.g. $c_{\alpha} = 0$ if and only if
    $\alpha$ is conjugate to its linear part by a translation, if and only if $\alpha$
    has a ary point.
    \label{lemma:radiance-obstruction}
\end{lemma}
\begin{proof}
    By Lemma~\ref{lemma:ary}, $y \in E$ is ary if and only if
    $\mu(g) = D_y$ is a principle crossed homomorphism for $\lambda$ if and only
    if $c_{\alpha} = [\mu] =0$.

    Now suppose that $\mu =D_y$ for some $y \in E$. so that $\mu(g) = y -
        \lambda(g)y$. We define the translation
    \begin{center}
        $T_y : E \mapsto E$\\
        $ x \mapsto x-y$
    \end{center}
    Now, conjugating $\alpha$ by this translation yields
    \begin{center}
        $T_y \circ \alpha(g) \circ T_y^{-1} = T_y\circ \alpha(g)(x+y)$\\
        $= T_y\circ(\lambda(g)x  + \lambda(g)y + \mu(g))$\\
        $= T_y \circ (\lambda(g)x + \lambda(g)y +y - \lambda(g)y)$\\
        $= T_y \circ (\lambda(g)x +y ) = \lambda(g)x +y-y = \lambda(g)x$
    \end{center}

    Conversely, suppose that $T_y \circ \alpha(g) \circ T_y^{-1} = \lambda(g)$ for
    all $g \in G$ and $x \in E$. Then
    \begin{center}
        $T_y \circ \alpha(g) \circ T_y(x) = T_y \circ \alpha(g)(x+y)$\\
        $= T_y \circ (\lambda(g)(x+y) + \mu(g)) = \lambda(g)(x+y)+\mu(g)-y = \lambda(g)x$\\
        $\implies \mu(g) = \lambda(g)(x) - \lambda(g)(x) - \lambda(g)(y) +y$\\
        $= y - \lambda(g)y$
    \end{center}
    as required.
\end{proof}

\begin{remark}
    This lemma will allow us to alter the development map by a translation (which
    alters the holonomy representation by a conjugation) to assume that our fixed
    point is at the origin.
\end{remark}

\begin{definition}[Contragradient Representation]
    Let $E$ be a $G$-module and $\alpha$ a representation on $E$. We define
    the contragradient representation on $E^*$ by
    \begin{center}
        $\alpha^*: G \mapsto GL(E^*)$\\
        $g \mapsto \alpha^* g$
    \end{center}
    such that $\alpha^*g(f)(x) = f(\alpha(g^{-1})x)$ for all $x \in E$ and $f\in E^*$.
\end{definition}

\begin{remark}
    This induces a representation on $\wedge^kE^*$ by \\$(g\cdot \omega)(x_1, \dots , x_n) = \omega(g^{-1}\cdot x_1, \dots, g^{-1}\cdot x_n)$ for $\omega \in \wedge^k E^*$
        and $x_i \in E$.
\end{remark}

We will make use of the following lemma when looking at the relationship
between the holonomy representation and parallel volume forms.

\begin{lemma}
    Let $F: V \mapsto V$ be a linear map from a vector space $V$ of dimension $n$ to itself
    and let $\omega \in \wedge^n(V^*)$. Then
    \begin{center}
        $F^*\omega = det(A)\omega$
    \end{center}
    where $A$ is any matrix representing the linear transformation $F$.
    \label{lemma:pullback-form-linearmap}
\end{lemma}
\begin{proof}
    As $dim(\wedge^n(V^*)) = 1$ and $F$ is a linear map, it follows that our map corresponds to multiplication
    by some scalar $\lambda \in \mathbb{R}$. Let $\varphi: V \mapsto \mathbb{R}^n$ be an isomorphism identifying
    our vector space $V$ with $\mathbb{R}$. Then we have
    \begin{center}
        $F^*\varphi^*\det = \lambda\varphi^* \det$\\
        $\implies (\varphi^{-1})^* F^*\varphi^*\det = \lambda \det$\\
        $\implies (\varphi^{-1} F \varphi)^*\det = \lambda \det$
    \end{center}
    If we let $A = \varphi^{-1} F \varphi$ and $\{e_1, \dots , e_n\}$ the standard basis of $\mathbb{R}^n$
    then
    \begin{center}
        $A^*det(e_1. \dots , e_n) = \lambda det(e_1, \dots , e_n) = \lambda = det(Ae_1, \dots, Ae_n)$
    \end{center}
    which gives us that $det(A)= \lambda$ as required. \label{lemma:volume}
\end{proof}

This leads us to the following elementary but important property of the action
of the holonomy representation on volume forms.

\begin{corollary}
    Let $M$ be an affine manifold and $\lambda \in GL(\mathbb{R}^n)$ be the linear part of the holonomy
    representation. Then $M$ has a parallel volume form with respect to the affine connection if
    and only if $\det(\lambda(g)) = 1$ for all $g \in G$.
\end{corollary}

\begin{proof}
    Suppose $\omega$ is a parallel volume form on $M$. Then the parallel transport of $\omega$ around a loop in $M$
    leaves $\omega$ unchanged, e.g. the linear holonomy action preserves $\omega$. This gives us that
    \begin{center}
        $g\cdot \omega = \omega$\\
        $\implies \omega(g^{-1}\cdot x_1, \dots, g^{-1}\cdot x_n) = \omega(x_1, \dots, x_n)$\\
    \end{center}
    for all $x_i \in M$. But by Lemma \ref{lemma:volume}
    \begin{center}
        $\omega(g^{-1}\cdot x_1, \dots, g^{-1}\cdot x_n) = \det(\lambda(g^{-1}))\cdot \omega(x_1, \dots, x_n)$
    \end{center}
    and so the volume is preserved if $\det(\lambda(g)) = 1$

    Conversely, suppose that the determinant of the linear holonomy is $1$ for all
    $g \in G$. If we pick a point $m_0 \in M$ then locally there exists a volume
    form $\omega_0$ on a chart $U$ of $M$ with respect to the affine connection,
    corresponding to a constant, top degree form. We now claim that we can uniquely
    extend such a form. Indeed, as parallel transport provides a linear isomorphism
    between tangent spaces we can attempt to define a volume form on $M$ by
    parallel transporting $\omega_0$.

    Pick another point $m \in M$. We claim that the parallel transport of
    $\omega_0$ along a curve $\gamma$ from $m_0$ to $m$ does not depend on the
    choice of curve. If $\gamma'$ is another curve then the parallel transport
    $(P^{\gamma'}_{m_0 \to m})^{-1} \circ P^{\gamma}_{m_0 \to m} = g$ for some $g$
    in the linear holonomy group. It follows that
    \begin{center}
        $g^* \circ \omega_0 = ((P^{\gamma'}_{m_0 \to m})^{-1} \circ P^{\gamma}_{m_0 \to m})^* \circ \omega_0$\\
        $ = \det(\lambda(g))\cdot \omega_0 = \omega_0$\\
        $\implies (P^{\gamma}_{m_0 \to m})^* \circ \omega_0 = (P^{\gamma'}_{m_0 \to m})^* \circ \omega_0$
    \end{center}
    and so the parallel transport does from $m$ to $m_0$ does not depend on the choice of path. We note
    that this defines a continuous maps as in each affine chart the parallel transport identifies the tangent
    spaces via the identity map and on over laps they differ by an element of $GL(\mathbb{R}^n)$ as the derivative
    of an affine map extracts the linear part.
\end{proof}

\subsection{Nilpotent Holonomy}
In this section, we will see that the condition that the holonomy group of an
affine manifold $M$ be nilpotent will be useful in determining whether the
affine structure is complete. We will build up some useful results before
determining some equivalent conditions that force completeness of the affine
structure.

\begin{definition}[Central Series]
    Let G be a group. Then a central series for $G$ is a finite collection of normal subgroups
    such that
    \begin{center}
        $1=G_0 \leq G_1 \leq \dots \leq G_s = G$
    \end{center}
    and
    \begin{center}
        $\dfrac{G_{i+1}}{G_i} \leq Z(\dfrac{G}{G_i})$
    \end{center}
    where $Z(\dfrac{G}{G_i})$ denotes the center.
\end{definition}

\begin{definition}[Nilpotent Group]
    A group $G$ is said to be nilpotent if it admits a central series.
\end{definition}
\begin{remark}
    The \textit{nilpotent class} of $G$ is the length of the shortest central series
\end{remark}

For nilpotent groups, we have the following results regarding their group
cohomology.

\begin{lemma}
    Let G be a nilpotent group and $E$ a $G$-module. If $H^0(G, E) = 0$ then
    also $H^i(G, E) = 0$ for all $i \geq 0$.
    \label{lemma:nilpotent-group-coho}
\end{lemma}
\begin{proof}
    TODO : Add proof? - "HIRSCH, M., Flat manifolds and the cohomology of groups"
\end{proof}

from this we obtain the following lemma
\begin{lemma}
    If $G$ is a nilpotent group and $E$ is a $G$-module, then the following statements are equivalent.
    \label{lemma:nilpotent-group-equiv-hom-coho}
    \begin{enumerate}
        \item $H^0(G, E) = 0$
        \item $H^0(G, E^*) = 0$
        \item $H_0(G, E) = 0$
        \item $H_0(G, E^*) = 0$
    \end{enumerate}
\end{lemma}

\begin{proof}
    TODO - Add proof? See "AFFINE MANIFOLDS WITH NILPOTENT HOLONOMY"
\end{proof}

In the case that the affine holonomy group is nilpotent, we will be able to
show that completeness is equivalent to a property called unipotence of the
linear holonomy. We will now outline some consequences of unipotence.

\begin{definition}[Unipotent]
    A $G$-module $E$ is called unipotent if $(g-I)^n = 0$ for every $g \in G$
    where $n = dim(E)$.
\end{definition}
\begin{remark}
    An affine representation is unipotent if its linear part defines a unipotent
    $G$-module.
\end{remark}

Although $E$ may not be unipotent itself, we can consider the smallest
submodule (possibly the zero module) of $E$ which is unipotent. We shall denote
this submodule by $E_U$.

\begin{remark}
    The submodule $E_U$ is called the \textit{Fitting submodule} of $E$.
\end{remark}

Often, it will be useful to quotient out by the unipotent part of a $G$-module.
The following lemma gives some insight on why this is often a useful idea.

\begin{lemma}
    Let $E_U$ be the Fitting submodule of $E$. Then
    \begin{center}
        $H^0(G, E/E_U) = 0$
    \end{center}
\end{lemma}

\begin{proof}
    Take $E_U$ to be the Fitting submodule and assume $E_U \neq E$ otherwise the result is trivial.
    As $H^0(G, E/E_U)$ is the set of ary points of the $G$-module $E/E_U$, asuuming $H^0(G, E/E_U)\neq0$
    we can take $x + E_U \in E/E_U$ not the identity so that
    \begin{center}
        $g\cdot (x + E_U) = x+ E_U$ for all $g \in G$ \\
        $ \implies (g - 1)\cdot x \in E_U$ for all $x \in E$
    \end{center}
    Now we consider the $G$-submodule spanned by $x$ and $E_U$. As $x \notin E_U$ this submodule
    is strictly bigger than $E_U$. Now we have that
    \begin{center}
        $(g-1)^n\cdot (x + e) = (g-1)^{n-1}((g-1)x + (g-1)e)$
    \end{center}
    But $(g-1)x \in E_u$ so that $(g-1)x + (g-1)e \in E_U$. But as $E_U \neq E$ it has dimension at most
    $n-1$ and so $(g-1)^{n-1} = 0$ restricted to $E_U$. Therefore this is a unipotent submodule strictly bigger
    than $E_U$ which contradicts maximality. \label{lemma:fitting-submodule}
\end{proof}

The following splitting lemma will prove important in our characterization of
completeness.

\begin{lemma}
    If $G$ is a nilpotent group and $E$ a $G$-module with Fitting submodule $E_U$, then there exists a
    unique submodule $F$ such that $E = E_U \oplus F$.
\end{lemma}
\begin{proof}
    Let $\beta$ be the induced representation on $GL(E/E_U)$. By Lemma \ref{lemma:fitting-submodule}, $H^0(G, E/E_U) = 0$.
    A submodule $F \subset E$ is complementary to $E_U$ e.g. $E = E_U \oplus F$ if and only if
    $F=T(E/E_U)$ where $T:E/E_U \mapsto E$ is an equivariant linear map with $P \circ T = 1_{E/E_U}$ with $P$ the
    canonical projection map.

    Indeed, suppose $F=T(E/E_U)$, with $T$ being $G$-equivariant so that $F$ is a
    $G$-module. If $T(x+E_U) = e \in E$, then $P(e) = e+E_U = x+E_U \implies x \in
        E_U$ and so by linearity $e = 0$ and so $F \cap E_U = \{0\}$. Clearly, $E_U
        \oplus F \subseteq E$. For any $x \in E$, $x-T(x+E_U) \in E_U$. We can thus
    write $x = (x-T(x+E_U)) + T(x+E_U) \in E_U + F$.

    Conversely, suppose that $F$ is a $G$-submodule and $F \cap E_U = \{0\}$ and $F
        \oplus E_U = E$. Then its easy to see that $P|_F : F \mapsto E/E_U$ is
    bijective. It is $G$-equivariant as $P$ is and $F$ is a $G$-submodule. We can
    thus define $T$ as $T = P^{-1}|_F$.

    Now let $S: E/E_U \mapsto E$ be a linear map satisfying $P \circ S =
        1_{E/E_U}$. Then any such $T$ as above can be uniquely written as $T = R + S$
    with $R: E/E_U \mapsto E$. It is $T$-equivariant if and only if

    \begin{center}
        $R + S = g \circ (R + S)\circ \beta(g)^{-1}$\\
        \begin{equation}\label{eq:fixed-point}
            \implies R = g\circ R \circ \beta(g)^{-1} + g\circ S \circ \beta(g)^{-1} - S
        \end{equation}
    \end{center}
    If we can show that there is a unique such $T$, then we have shown that $E$ splits uniquely into $E = E_U \oplus F$.
    This will follow if we can show there is a unique $R$ satisfying the above.

    To do this we define a representation on $Hom(E/E_U, E)$ by
    \begin{center}
        $\gamma : G \mapsto Hom(E/E_U, E)$\\
        $\gamma(g)(R) = g\circ R \circ \beta(g)^{-1}$
    \end{center}
    and we define a crossed homomorphism for $\gamma$ by $\mu(g) = g\circ S \circ \beta(g)^{-1} - S$. This
    defines a crossed homomorphism  as
    \begin{center}
        $\mu(gh) = g \circ h\circ S \circ \beta(h)^{-1}\circ \beta(g)^{-1} -S$\\
        $ = \gamma(g)\circ h\circ S \circ \beta(h)^{-1} - S$\\
        $ = \gamma(g)\circ (\mu(h) + S) - S$\\
        $ = \gamma(g)\circ \mu(h) + g\circ S\circ \beta(g)^{-1} -S$\\
        $ = \gamma(g)\mu(h) + \mu(g)$
    \end{center}
    As $P$ is equivariant and $P \circ S = 1_{E/E_U}$ we get
    \begin{center}
        $P \circ \mu(g) =  P \circ g \circ S \circ \beta(g)^{-1} - P \circ S$, so by equivariance\\
        $ =  \beta(g) \circ P  \circ S \circ \beta(g)^{-1} - 1$\\
        $ \beta(g) \circ \beta(g)^{-1} - 1 = 0$
    \end{center}
    Now we can wewrite (\ref{eq:fixed-point}) as
    \begin{center}
        $R = \gamma(g)\circ R + \mu(g)$
    \end{center}
    which by Proposition \ref{prop:ary-point} is saying that $R$ is a fixed point of the affine representation
    induced by $\gamma$ and $\mu$. We wish now to show that this affine representation has a unique fixed point.
    This is equivalent by Lemma \ref{lemma:nilpotent-group-coho} and Lemma \ref{lemma:nilpotent-group-equiv-hom-coho}
    to $H^{0}(G, Hom(E/E_U)) = 0$.

    To this end we suppose that $R: E/E_U \mapsto E$ is fixed under all $\gamma(g)$
    for $g\in G$. Then, letting $d=dim(E_U)$ for any possibly the same collection
    of $d$ elements $g_1, \dots, g_d \in G$ we have
    \begin{center}
        $(I-g_1)\circ \dots \circ (I-g_d)|{E_U} = 0$
    \end{center}
    as they act unipotently on $E_U$. It now follows by equivariance that
    \begin{center}
        $(I-g_1)\circ \dots \circ (I-g_d) \circ R$\\
        $= (I-g_1)\circ \dots \circ (R-g_d \circ R)$\\
        $= (I-g_1)\circ \dots \circ (R-R \circ \beta(g_d))$\\
        $= (I-g_1)\circ \dots \circ R \circ(1- \beta(g_d))$\\
        $\implies R \circ (1 - \beta(g_1))\circ \dots \circ (1- \beta(g_d)) = 0$
    \end{center}
    so that $R$ vanishes on vectors of the form
    \begin{center}
        $(1 - \beta(g_1))\circ \dots \circ (1- \beta(g_d))x$
    \end{center}
    for $x \in E/E_U$. Thus if all vectors are in this span, then the only such $R$ fixed under the action of $\gamma$ is the
    zero map. As $(1 - \beta(g))$ is invertible on $E/E_U$ (it acts without unipotent part), this is equivalent to
    showing that $E/E_U$ is spanned by vectors of the form $(1 - \beta(g))$. By definition, this is equivalent to
    $H_0(G, E/E_U)= 0$ which is true by \ref{lemma:fitting-submodule} completing the proof.
\end{proof}

An important consequence of this theorem is that for indecomposable affine
representations of a nilpotent group the affine representation is always
unipotent (\textbf{TODO: should we include this}).

\subsection{Unipotent Representations and Completeness}

The aim of this section is to show that for a compact affine manifold,
unipotent holonomy group is equivalent to completeness. Of geometrical
importance to this will be the concept of an \textit{expansion} in the linear
holonomy.

\begin{definition}[Expansion]
    Let $T: V \mapsto V$ be a linear map. Then $T$ is said to be an expansion of $V$ if for every eigenvalue
    $\lambda$ of $T$ we have $|\lambda|>1$.
\end{definition}

We now wish to prove the following technical lemma which holds in the absence
of an expansion.
\begin{lemma}
    Let $G$ be a nilpotent group and $E$ a $G$-module. Suppose that the linear holonomy group does not
    contain an expansion of E. Then for each $n \in \mathbb{N}_{>0}$, there is a $C^r$ map $\varphi : E \mapsto \mathbb{R}$
    which satisfies the following.
    \begin{enumerate}
        \item $\varphi > 0$ almost everywhere.
        \item $\varphi$ is $G$-invariant.
        \item There exists some $a>0$ such that
              \begin{center}
                  $\varphi(e^{tx}) = e^{ta}\varphi(x)$
              \end{center}
              for all $t \in \mathbb{R}$ and $x \in E$.
    \end{enumerate}
\end{lemma}

Before we can do this we will recall some results from algebraic group theory
and the representation theory of Lie Algebras

\begin{definition}[Algebraic Group]
    An \textit{algebraic group} is a matrix group that can be defined using polynomials.
\end{definition}

If $G$ is an algebraic group, then there is a unique irreducible component
passing through the identity denoted by $G^{\circ}$.

\begin{remark}
    This unique irreducible component is called the \textit{identity component} of $G$.
\end{remark}

\begin{prop}
    Let $G$ be an algebraic group. Then $G^{\circ}$ is a normal subgroup of finite index in $G$ whose cosets are connected and
    irreducible components of $G$. \label{prop:identity-comp}
\end{prop}

\begin{proof}
    See "Linear Algebraic Groups - Humphreys (7.3)"
\end{proof}

\textbf{TODO: Flesh these algebraic group proofs out more.}
\begin{prop}
    Let $G$ be an algebraic group and $H$ a normal subgroup. Then
    \begin{center}
        $\overline{[G, H]} = [\overline{G}, \overline{H}]$
    \end{center}
    where $\overline{H}$ denotes the Zariski closure. \label{prop:zariski-closure}
\end{prop}
\begin{proof}
    Proposition (2.4?) Borel-Linear-Algebraic-Groups \url{https://www.math.utah.edu/~ptrapa/math-library/borel/%20Borel-Linear-Algebraic-Groups-1991.pdf}
\end{proof}

This proposition leads to the following corrolary.
\begin{corollary}\label{corr:closure-nilpotent}
    Let $G$ be an algebraic group and $N$ a normal subgroup that is nilpotent. Then $\overline{N}$ is also nilpotent.
\end{corollary}

\begin{proof}
    By Proposition \ref{prop:zariski-closure}, a central series for $N$ will pass to a central series of $\overline{N}$.
\end{proof}

The next result we will state is an important result from representation theory
of Lie Algebras. It will guarantee us a basis for our representation such that
the matrices of the representation are upper triangular.

\begin{theorem}
    Let $V$ be a vector space over an algebraically closed field of characteristic $0$. If $\pi : \mathfrak{g} \mapsto \mathfrak{gl}(V)$
    is a finite dimensional representation of a solvable Lie algebra, then there is a basis of $V$ such that all linear transformations in
    $\pi(\mathfrak{g})$ are represented by upper triangular matrices.
\end{theorem}
\begin{proof}
    See the following \url{https://math.mit.edu/classes/18.745/Notes/Lecture_5_Notes.pdf}
\end{proof}

We now have the required machinary to start our proof.

\begin{lemma}
    Let $G$ be a nilpotent group and $E$ a $G$-module. Suppose that the linear holonomy group does not
    contain an expansion of E. Then for each $n \in \mathbb{N}_{>0}$, there is a $C^r$ map $\varphi : E \mapsto \mathbb{R}$
    which satisfies the following.
    \begin{enumerate}
        \item $\varphi > 0$ almost everywhere.
        \item $\varphi$ is $G$-invariant.
        \item There exists some $a>0$ such that
              \begin{center}
                  $\varphi(e^{tx}) = e^{ta}\varphi(x)$
              \end{center}
              for all $t \in \mathbb{R}$ and $x \in E$.
    \end{enumerate}
\end{lemma}

\begin{proof}
    If we can prove this for a normal subgroup $G_0$ of finite index, then we will be able to construct our map $\varphi$ as follows.
    Let $g_1G_0, \dots g_kG_0$ be the left cosets of $G_0$ and $\varphi_0$ a map satisfying properties $1$ and $3$ defined on $G_0$ .
    Now define
    $$\varphi(x) = \sum^{k}_{i=1} \varphi_0(g_ix)$$

    This will now be $G$-invariant as $G_0$ is a normal subgroup multiplication by
    an element of $G$ will permute the cosets.

    As we want to eventually apply Lies theorem, we complexify the dual space $E^*$
    as $F = \mathbb{C}\oplus E^*$. The contragradient representation of $G$ on
    $E^*$ extends to a representation on $F$ in the obvious way. We will denote
    this as $\rho : G \mapsto GL(F)$. Now, $\rho(G)$ is a nilpotent subgroup of
    $GL(F)$ that passes through the identity.

    Let $H$ be the identity component of the algebraic closure of $\rho(G)$. As
    $\rho(G)$ is nilpotent, by Corollary \ref{corr:closure-nilpotent} so is its
    Zariski closure and hence its identity component as subgroups of nilpotent
    groups are nilpotent. $H$ will be a normal subgroup of finite index by
    Proposition \ref{prop:identity-comp} and so $G_0 = \rho^{-1}(H)$ will also be a
    normal subgroup of finite index.

    We can now obtain a Lie algebra representation of the Lie algebra of $H$ on $F$
    by
    \begin{center}
        $di: \mathfrak{h} \mapsto \mathfrak{gl}(F)$
    \end{center}
    where $i$ is the inclusion map. Importantly, by construction on the underlying vector spaces $\rho(G_0) \subseteq di(\mathfrak{h})$. As $H$ is a nilpotent Lie group, its Lie algebra is nilpotent hence solvable so we can
    apply Lie's Theorem to obtain a decomposition $F = \oplus^m_{k=1} F_k$ which is $di(h)$-invariant and hence $\rho$-invariant by
    construction when restricted to $G_0$.

    Again, by Lie's theorem there is a basis $B_k$ of each $F_k$ that represents
    the operators $di(h)|_{F_k}$ as upper triangular complex matrices
    \begin{center}
        $di_k(h) = \lambda_k(h)I + N_k(h)$
    \end{center}
    where $di_k$ is the restriction to $F_k$ and $N_k(h)$ is strictly upper triangular nilpotent matrix and $\lambda_k(h)$ are the eigenvalues of $\rho(h)$.
    The first basis vector in each $B_k$ is killed by the strictly upper triangular matrix so that if $f_k\in F_k$ is the
    first basis vector in $B_k$
    \begin{center}
        $di_k(h)f_k = \lambda_k(h)f_k$
    \end{center}
    for all $h \in H$.

    Now we define the following group morphisms
    \begin{center}
        $\varphi_k : G_0 \mapsto \mathbb{R}$\\
        $ \varphi_k(g) = log|\lambda_k(g)|$
    \end{center}
    for $k = 1,\dots, m$.
    \textbf{TODO: Show $\lambda_k$ is a character. Also i think we are exponentiating from Lie algebra to lie group before this?}

    This defines a map into $\mathbb{R}^m$ by
    \begin{center}
        $\varphi=(\varphi_1 , \dots , \varphi_m): G_0 \mapsto \mathbb{R}^m$
    \end{center}
    If $G_0$ does not contain any expansions of $E$ then the image $\varphi(G_0)$ is disjoint from the set
    $$
        P = \{y \in \mathbb{R}^m: y_k>0, k=1,\dots ,m\}.
    $$
    As it is a subgroup, it follows that its linear span $span\{\varphi(G_0)\}$ is also disjoint from $P$ as if a point in the image was
    in the strictly negative orthant, it's inverse would lie in $P$. Therefore there exists a vector in the orthogonal complement
    of $\varphi(G_0)$ that lies in the closure of $P$. We denote this by $v = (v_1,\dots, v_m)$ and it satisfies
    \begin{center}
        $v_k \geq 0$ for all $k$,
        \[\sum^m_{k=1}v_k = a \geq 0\]
        \[\sum^m_{k=1}v_k\varphi_k(g) =0 \text{ for all } g\in G_0\]
    \end{center}
    If we scake our $v$ by a positive scalar $c>0$ it will satisfy the same properties so that we can arrange that
    \begin{center}
        $v_k =0$ or $v_k>2r$ for each k with $r$ coming from the lemma.

        Now for each $k$ we have a vector $f_k\in Hom(\mathbb{C}\otimes E, \mathbb{C})$
        satisfy $di_k(h)f_k = \lambda_k(h)f_k$. We now include $E$ into
        $\mathbb{C}\otimes E$ and construct the map
        \begin{center}
            $\psi: E \mapsto \mathbb{R}$
            \[\psi(x) = \prod_{k=1}^{m}|f_k(x)|^{v_k}\]
        \end{center}
    \end{center}
    Now $\psi$ is $C^r$ differentiable by our assumptions (\textbf{TODO: Why is this the case??}). Properties
    $1)$ and $3)$ are satisfied by our construction of $v_k$. We now show that it is $G_0$-invariant.
    \[\psi(g^{-1}x) = \prod_{k=1}^{m}|f_k(g^{-1}x)|^{v_k} \]
    noting this is the contragradient representation and also that $f_k$ is an
    eigenvector
    \[\psi(g^{-1}x)  = \prod_{k=1}^{m}|g\circ f_k(x)|^{v_k} = \prod_{k=1}^{m}|\lambda(g)f_k(x)|^{v_k}\]
    \[= \prod_{k=1}^{m}|\lambda_k(g)|^{v_k}\prod_{k=1}^{m}|f_k(x)|^{v_k}\]

    Now, recalling that $ \varphi_k(g) = log|\lambda_k(g)| \implies
        e^{\varphi_k(g)}= |\lambda_k(g)|$ so we obtained
    \[ \prod_{k=1}^{m}|\lambda_k(g)|^{v_k}\prod_{k=1}^{m}|f_k(x)|^{v_k} = e^{\sum_{k=1}^{m}v_k\varphi_k(g)}\psi(x) = \psi(x)\]

    completing the proof.

    Next we move onto a more geomterical proof regarding expansions in the linear
    holonomy which will lead to some important results
\end{proof}